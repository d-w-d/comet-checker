<div
    class="data-page-wrapper"
    [ngClass]="routeAnimationsElements"
>

    <h1 class="main-heading">Moving Object Search</h1>

    <h3
        *ngIf="!data"
        class="main-heading"
    >
        Data Will Appear Here Very Soon!
    </h3>

    <div
        *ngIf="!!data"
        class="table-wrapper"
    >

        <hr class="local-hr">

        <span *ngFor="let col of allColumns; let i = index">

            <button
                mat-raised-button
                class="col-button"
                (click)="addRemoveCols(col)"
                [color]="shownCols.includes(col) ? 'background': 'primary'"
            >
                {{col}}
            </button>
        </span>

        <hr class="local-hr">

        <mat-form-field>
            <input
                matInput
                (keyup)="applyFilter($event.target.value)"
                placeholder="Filter"
                class="filter-field"
            >
        </mat-form-field>
        <div class="neo-table-wrapper mat-elevation-z8">

            <table
                mat-table
                matSort
                [dataSource]="data"
                class="mat-elevation-z8 data-table"
                color='accent'
            >
                <!-- <span *ngFor="let item of navItems; let i = index"> -->
                <span *ngFor="let colx of shownCols; let j = index">
                    <ng-container [matColumnDef]="colx">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                            mat-sort-header
                        >
                            {{colx}}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >
                            {{element[colx]}}
                        </td>
                    </ng-container>

                </span>

                <!-- <tbody> -->
                <tbody>
                    <tr
                        mat-header-row
                        *matHeaderRowDef="shownCols"
                    ></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: shownCols;"
                    ></tr>
                    <!-- </tbody> -->
                </tbody>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>

    </div>

</div>
